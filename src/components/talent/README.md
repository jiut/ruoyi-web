# TalentUserMenu 组件

## 概述

`TalentUserMenu` 是一个专门为 talent 模块设计的用户菜单组件，仿照院校数据库详情页.html中用户菜单的样式，基于 `UserAvatar/index.vue` 模板创建。支持已登录和未登录两种状态，并提供完整的移动端响应式适配。

## 特性

- 🎨 **现代化设计**: 采用玻璃拟态效果，符合现代UI设计趋势
- 🔐 **双状态支持**: 自动识别登录状态，未登录时显示登录/注册按钮
- 💰 **余额显示**: 显示用户账户余额信息
- 📱 **响应式设计**: 针对不同屏幕尺寸优化显示效果
- 🎯 **功能完整**: 包含个人资料、账户设置、收藏、购买套餐、退出登录等功能
- 🔄 **自动状态管理**: 监听token变化，自动更新用户状态

## 使用方法

### 基础用法

```vue
<template>
  <div class="header">
    <div class="logo">星海人才</div>
    <TalentUserMenu />
  </div>
</template>

<script setup lang="ts">
import { TalentUserMenu } from '@/components/talent'
</script>
```

### 在导航栏中使用

```vue
<template>
  <nav class="navbar">
    <div class="nav-left">
      <!-- 导航菜单 -->
    </div>
    <div class="nav-right">
      <TalentUserMenu />
    </div>
  </nav>
</template>
```

## 组件属性

该组件没有接受任何props，所有功能都是内部管理的。

## 组件事件

该组件不对外发出任何事件，所有交互都在组件内部处理。

## 功能说明

### 已登录状态
- **用户信息显示**: 显示用户头像（如果有）或用户名首字母、用户名、余额
- **下拉菜单**: 包含账户设置、我的收藏、购买套餐、退出登录等选项
- **自动获取**: 自动获取和更新用户信息

### 未登录状态
- **登录按钮**: 跳转到登录页面
- **注册按钮**: 跳转到注册页面
- **响应式布局**: 不同屏幕尺寸下显示不同的按钮样式

### 菜单选项（已登录时）
1. **账户设置** - 打开账户设置弹窗
2. **我的收藏** - 跳转到收藏页面
3. **购买套餐** - 打开购买套餐弹窗
4. **退出登录** - 退出当前用户登录

### 自动功能
- 自动获取用户登录信息
- 监听token变化自动刷新用户信息
- 点击外部自动关闭下拉菜单
- 自动识别登录状态并切换显示内容

## 响应式设计

### 手机端 (< 768px)
- **未登录**: 显示两个圆形图标按钮（登录/注册）
- **已登录**: 显示头像，隐藏用户名和下拉箭头

### 平板端 (768px - 1279px)
- **未登录**: 显示紧凑的登录/注册按钮（带图标和文字）
- **已登录**: 显示头像和用户名，隐藏下拉箭头

### 桌面端 (> 1280px)
- **未登录**: 显示完整的登录/注册按钮
- **已登录**: 显示头像、用户名和下拉箭头

## 样式定制

组件使用了以下CSS类，可以通过覆盖这些类来自定义样式：

```css
.user-menu-container - 主容器
.talent-user-dropdown - 下拉菜单
```

## 依赖项

- Vue 3
- Naive UI
- Vue Router
- Pinia (状态管理)
- Remix Icon (图标)

## 示例

查看以下使用示例，包括：
- 登录状态切换测试
- 不同场景下的使用方式
- 移动端响应式效果说明

## 注意事项

1. 确保项目中已正确配置用户认证相关的API
2. 确保已安装所需的依赖包
3. 组件会自动处理用户登录状态，无需手动管理
4. 登录/注册按钮会自动跳转到 `/login` 和 `/regist` 路由
5. 组件会根据屏幕尺寸自动调整显示内容，确保最佳用户体验
6. 在移动端，为了节省空间，会隐藏部分文字内容，只显示图标

## 更新日志

### v2.0.0
- ✨ 新增未登录状态支持
- 📱 优化移动端响应式布局
- 🎨 改进按钮样式和交互效果
- 🔄 增强状态管理和自动更新功能
